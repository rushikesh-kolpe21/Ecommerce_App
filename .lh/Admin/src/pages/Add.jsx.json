{
    "sourceFile": "Admin/src/pages/Add.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1769484806166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1769485039713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n       formData.append(\"bestseller\", bestseller);\r\n       formData.append(\"sizes\", JSON.stringify(sizes));// Convert sizes array to JSON string\r\n \r\n       // send formData to backend api\r\n-      const response = await axios.post(backendUrl + \"/api/products/add\", formData, { headers: { token } }); // token sending to backend for auth\r\n+      const response = await axios.post(backendUrl + \"/api/products/add\", formData, { headers: { token } });  // token sending to backend for auth\r\n       \r\n       if (response.data.success) {\r\n         toast.success(response.data.message);\r\n         setName('');\r\n"
                }
            ],
            "date": 1769484806166,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { assets } from \"../assets/assets\";\r\nimport axios from \"axios\";\r\nimport { backendUrl } from \"../App\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const Add = ({ token }) => {\r\n  const [image1, setImage1] = useState(false);\r\n  const [image2, setImage2] = useState(false);\r\n  const [image3, setImage3] = useState(false);\r\n  const [image4, setImage4] = useState(false);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [category, setCategory] = useState(\"Men\");\r\n  const [subCategory, setSubCategory] = useState(\"Topwear\");\r\n  const [bestseller, setBestseller] = useState(false);\r\n  const [sizes, setSizes] = useState([]);\r\n\r\n  const onSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    // Handle form submission\r\n    try {\r\n      const formData = new FormData(); // Create a new FormData object\r\n      image1 && formData.append(\"image1\", image1);\r\n      image2 && formData.append(\"image2\", image2);\r\n      image3 && formData.append(\"image3\", image3);\r\n      image4 && formData.append(\"image4\", image4);\r\n\r\n      formData.append(\"name\", name);\r\n      formData.append(\"description\", description);\r\n      formData.append(\"price\", price);\r\n      formData.append(\"category\", category);\r\n      formData.append(\"subCategory\", subCategory);\r\n      formData.append(\"bestseller\", bestseller);\r\n      formData.append(\"sizes\", JSON.stringify(sizes));// Convert sizes array to JSON string\r\n\r\n      // send formData to backend api\r\n      const response = await axios.post(backendUrl + \"/api/products/add\", formData, { headers: { token } }); // token sending to backend for auth\r\n      \r\n      if (response.data.success) {\r\n        toast.success(response.data.message);\r\n        setName('');\r\n        setDescription('');\r\n        setPrice('');\r\n        setImage1(false);\r\n        setImage2(false);\r\n        setImage3(false);\r\n        setImage4(false);\r\n        setSizes([]);\r\n      } else {\r\n        toast.error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmitHandler} className=\"flex flex-col w-full items-start gap-4\">\r\n      <div>\r\n        {/* image upload */}\r\n        <p className=\"mb-2\">Upload Image</p>\r\n        <div className=\"flex gap-2\">\r\n          <label htmlFor=\"image1\">\r\n            <img\r\n              className=\"w-20\"\r\n              src={!image1 ? assets.upload_area : URL.createObjectURL(image1)}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              onChange={(e) => setImage1(e.target.files[0])}\r\n              type=\"file\"\r\n              id=\"image1\"\r\n              hidden\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"image2\">\r\n            <img\r\n              className=\"w-20\"\r\n              src={!image2 ? assets.upload_area : URL.createObjectURL(image2)}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              onChange={(e) => setImage2(e.target.files[0])}\r\n              type=\"file\"\r\n              id=\"image2\"\r\n              hidden\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"image3\">\r\n            <img\r\n              className=\"w-20\"\r\n              src={!image3 ? assets.upload_area : URL.createObjectURL(image3)}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              onChange={(e) => setImage3(e.target.files[0])}\r\n              type=\"file\"\r\n              id=\"image3\"\r\n              hidden\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"image4\">\r\n            <img\r\n              className=\"w-20\"\r\n              src={!image4 ? assets.upload_area : URL.createObjectURL(image4)}\r\n              alt=\"\"\r\n            />\r\n            <input\r\n              onChange={(e) => setImage4(e.target.files[0])}\r\n              type=\"file\"\r\n              id=\"image4\"\r\n              hidden\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n         {/* product details */}\r\n      <div className=\"w-full\">\r\n        <p className=\"mb-2\">Product name</p>\r\n        <input\r\n          onChange={(e) => setName(e.target.value)}\r\n          value={name}\r\n          className=\"w-full max-w-[500px] px-3 py-2 border border-gray-300 rounded\"\r\n          type=\"text\"\r\n          placeholder=\"Type here\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"w-full\">\r\n        <p className=\"mb-2\">Product description</p>\r\n        <textarea\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          value={description}\r\n          className=\"w-full max-w-[500px] px-3 py-2 border border-gray-300 rounded\"\r\n          placeholder=\"Write content here\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex flex-col sm:flex-row gap-2 w-full sm:gap-8\">\r\n        <div>\r\n          <p className=\"mb-2\">Product category</p>\r\n          <select\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded\"\r\n          >\r\n            <option value=\"Men\">Men</option>\r\n            <option value=\"Women\">Women</option>\r\n            <option value=\"Kids\">Kids</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <p className=\"mb-2\">Sub category</p>\r\n          <select\r\n            onChange={(e) => setSubCategory(e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded\"\r\n          >\r\n            <option value=\"Topwear\">Topwear</option>\r\n            <option value=\"Bottomwear\">Bottomwear</option>\r\n            <option value=\"Winterwear\">Winterwear</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <p className=\"mb-2\">Product Price</p>\r\n          <input\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            value={price}\r\n            className=\"w-full px-3 py-2 sm:w-[120px] border border-gray-300 rounded\"\r\n            type=\"number\"\r\n            placeholder=\"25\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"mb-2\">Product Sizes</p>\r\n        <div className=\"flex gap-3\">\r\n          <div\r\n            onClick={() =>\r\n              setSizes((prev) =>\r\n                prev.includes(\"S\")\r\n                  ? prev.filter((item) => item !== \"S\") //if present, remove it\r\n                  : [...prev, \"S\"] // if not present, add it\r\n              )\r\n            }\r\n          >\r\n            <p\r\n              className={`${\r\n                sizes.includes(\"S\") ? \"bg-pink-100\" : \"bg-slate-200\"\r\n              } px-3 py-1 cursor-pointer`}\r\n            >\r\n              S\r\n            </p>\r\n          </div>\r\n          <div\r\n            onClick={() =>\r\n              setSizes((prev) =>\r\n                prev.includes(\"M\")\r\n                  ? prev.filter((item) => item !== \"M\")\r\n                  : [...prev, \"M\"]\r\n              )\r\n            }\r\n          >\r\n            <p\r\n              className={`${\r\n                sizes.includes(\"M\") ? \"bg-pink-100\" : \"bg-slate-200\"\r\n              } px-3 py-1 cursor-pointer`}\r\n            >\r\n              M\r\n            </p>\r\n          </div>\r\n          <div\r\n            onClick={() =>\r\n              setSizes((prev) =>\r\n                prev.includes(\"L\")\r\n                  ? prev.filter((item) => item !== \"L\") // if present, remove it\r\n                  : [...prev, \"L\"] // if not present, add it\r\n              )\r\n            }\r\n          >\r\n            <p\r\n              className={`${\r\n                sizes.includes(\"L\") ? \"bg-pink-100\" : \"bg-slate-200\"\r\n              } px-3 py-1 cursor-pointer`}\r\n            >\r\n              L\r\n            </p>\r\n          </div>\r\n          <div\r\n            onClick={() =>\r\n              setSizes((prev) =>\r\n                prev.includes(\"XL\")\r\n                  ? prev.filter((item) => item !== \"XL\")\r\n                  : [...prev, \"XL\"]\r\n              )\r\n            }\r\n          >\r\n            <p\r\n              className={`${\r\n                sizes.includes(\"XL\") ? \"bg-pink-100\" : \"bg-slate-200\"\r\n              } px-3 py-1 cursor-pointer`}\r\n            >\r\n              XL\r\n            </p>\r\n          </div>\r\n          <div\r\n            onClick={() =>\r\n              setSizes((prev) =>\r\n                prev.includes(\"XXL\")\r\n                  ? prev.filter((item) => item !== \"XXL\")\r\n                  : [...prev, \"XXL\"]\r\n              )\r\n            }\r\n          >\r\n            <p\r\n              className={`${\r\n                sizes.includes(\"XXL\") ? \"bg-pink-100\" : \"bg-slate-200\"\r\n              } px-3 py-1 cursor-pointer`}\r\n            >\r\n              XXL\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* bestseller */}\r\n\r\n      <div className=\"flex gap-2 mt-2\">\r\n        <input\r\n          onChange={() => setBestseller((prev) => !prev)}\r\n          checked={bestseller} //!value\r\n          type=\"checkbox\"\r\n          id=\"bestseller\"\r\n        />\r\n        <label className=\"cursor-pointer\" htmlFor=\"bestseller\">\r\n          Add to bestseller\r\n        </label>\r\n      </div>\r\n\r\n      <button type=\"submit\" className=\"w-28 py-3 mt-4 bg-black text-white\">\r\n        ADD\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n"
        }
    ]
}